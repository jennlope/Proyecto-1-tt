<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>{{ meta.filename }} – GridDFS</title>
  <style>
    body { font-family: system-ui, sans-serif; margin: 24px; }
    table { border-collapse: collapse; width: 100%; margin-top: 12px; }
    th, td { border: 1px solid #ddd; padding: 8px; }
    th { background: #f6f6f6; }
    code { background:#f3f3f3; padding:2px 6px; border-radius:4px; }
    a.btn { display:inline-block; padding:6px 10px; border:1px solid #0b62c4; color:#0b62c4; border-radius:8px; text-decoration:none; }
    a.btn:hover { background:#eaf2fc; }
  </style>
</head>
<body>
  <a class="btn" href="/">← Volver</a>
  <h1>{{ meta.filename }}</h1>
  <p>Tamaño total: <b>{{ meta.size }}</b> bytes</p>
  <p>
    <a class="btn" href="/file/{{ meta.filename }}/download">⬇️ Descargar reconstruido</a>
  </p>

  <h2>Bloques</h2>
  <table>
    <tr><th>#</th><th>Block ID</th><th>DataNode</th><th>Descargar bloque</th></tr>
    {% for b in blocks %}
      <tr>
        <td>{{ loop.index0 }}</td>
        <td><code>{{ b.block_id }}</code></td>
        <td>{{ b.datanode }}</td>
        <td><a class="btn" href="/block/{{ meta.filename }}/{{ loop.index0 }}">⬇️ Bloque {{ loop.index0 }}</a></td>
      </tr>
    {% endfor %}
  </table>
</body>
</html>
